# WEB_Tourism - Веб-приложение школы туризма

Современное веб-приложение для школы туризма с поддержкой трёх видов туризма: Пешего, Горного и Водного.

## Архитектура

- **Фронтенд:** React 18.3 + React Router v6 + Axios
- **Бэкенд:** Django 5.1.2 + Django REST Framework 3.14.0
- **БД:** SQLite3
- **Стиль:** CSS Modules с минималистским дизайном (белый/светло-серый)

## Быстрый старт

### 1. Установка зависимостей

```bash
# Бэкенд
pip install -r requirements.txt

# Фронтенд
cd web_tourism/frontend
npm install
```

### 2. Запуск приложения

**Терминал 1 - Фронтенд (localhost:3000):**
```bash
cd web_tourism/frontend
npm start
```

**Терминал 2 - Бэкенд (localhost:8000):**
```bash
cd web_tourism
python manage.py runserver
```

## Основные компоненты

### Фронтенд (`web_tourism/frontend/src/`)
- **pages/** - Основные страницы (Home, AdminTours, ToursList, Profile и т.д.)
- **components/** - Переиспользуемые компоненты (Header, Calendar, Auth и т.д.)
- **constants/** - Конфигурации (tourismColors.js, apiEndpoints.js)
- **api.js** - Клиент Axios с поддержкой CSRF токенов

### Бэкенд (`web_tourism/`)
- **account/** - Управление пользователями и аутентификацией
- **tours/** - API для туров
- **tours_registrations/** - Регистрация пользователей на туры
- **web_tourism/** - Конфигурация Django проекта

## Цветовая схема

- **Пеший туризм:** Зелёный (#22c55e)
- **Горный туризм:** Серый (#8b7355)
- **Водный туризм:** Синий (#3b82f6)

## API Эндпоинты

Все API эндпоинты документированы в `frontend/src/constants/apiEndpoints.js`

### Основные эндпоинты:
- `GET /api/tours/` - Список туров
- `POST /api/tours/` - Создание тура (только администратор)
- `GET /api/tours/{id}/` - Детали тура
- `POST /api/registrations/` - Регистрация на тур
- `POST /api/account/auth/register/` - Регистрация пользователя
- `POST /api/account/auth/login/` - Вход в аккаунт

## Функциональность

✅ Просмотр доступных туров по категориям
✅ Интерактивный календарь с цветовой разметкой по типам туризма
✅ Регистрация пользователя и вход в аккаунт
✅ Управление профилем пользователя
✅ Административная панель для создания и редактирования туров
✅ Система регистрации и отмены регистраций
✅ Отзывчивый дизайн (Mobile-first)

## Недавние обновления

### Фаза очистки кода (текущая)
- ✅ Удалены неиспользуемые React файлы (logo.svg, тесты, старые CSS)
- ✅ Удалены неиспользуемые Django приложения (tourism, routes)
- ✅ Удалены старые HTML шаблоны Django
- ✅ Удалены старые статические файлы (js, css)
- ✅ Очищена структура проекта

### Фаза дизайна
- ✅ Изменён дизайн на белый/светло-серый минималистский
- ✅ Добавлены туризм-специфичные цвета
- ✅ Исправлена ошибка первого дня месяца в календаре
- ✅ Добавлена цветовая разметка в календаре

### Фаза функциональности
- ✅ Создана главная страница (Home)
- ✅ Создано 3 страницы типов туризма
- ✅ Создана страница галереи (Media)
- ✅ Создана страница контактов (Contacts)
- ✅ Исправлены CSRF ошибки

## Структура файлов

```
web_tourism/
├── frontend/              # React приложение
│   ├── public/           # Статические файлы
│   └── src/
│       ├── api.js        # Axios клиент
│       ├── App.js        # Главный компонент
│       ├── index.js      # Точка входа
│       ├── components/   # Переиспользуемые компоненты
│       ├── pages/        # Страницы приложения
│       ├── constants/    # Конфигурации и API эндпоинты
│       └── [styles]/     # CSS модули
├── account/              # Django app - Аутентификация
├── tours/                # Django app - Туры
├── tours_registrations/  # Django app - Регистрации
├── static/               # Статические файлы (изображения)
├── db.sqlite3           # БД
├── manage.py            # Django управление
└── requirements.txt     # Python зависимости
```

## Технические решения

### CSRF защита
Реализован автоматический перехват ошибок 403 (CSRF) с повторным получением токена и повторной отправкой запроса.

### Цветовая система
Централизованная система цветов в `constants/tourismColors.js` позволяет легко изменять тему приложения.

### API документация
Все эндпоинты задокументированы в `frontend/src/constants/apiEndpoints.js` с примерами использования.

## Требования

- Python 3.8+
- Node.js 14+
- npm 6+

## Лицензия

Проект для учебных целей (курсовой проект)
 